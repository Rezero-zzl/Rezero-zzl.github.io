# 常用Linux小知识

>摘录一些实际中常用到或者笔试中常出现的Linux命令

- 网络

    - `route`命令是在本地 IP 路由表中显示和修改路由
    
    - `tracert`是路由跟踪实用程序，用于确定 IP 数据包访问目标所采取的路径。
        tracert 命令用 IP 生存时间 (TTL) 字段和 ICMP 错误消息来确定从一个主机到网络上其他 主机的路由
    
    - `ping`命令用于检测主机是否可达
    
    - `netstat`命令用于显示网络状态，利用netstat指令可以得知整个Linux系统的网络情况，它是一个监控
        TCP/IP网络的非常有用的工具，它可以显示路由表、实际的网络连接以及每一个网络接口设备的状态信息。

- 文件

    - 查看
    
        - linux系统可以用来查阅全部文件内容的三种命令：`cat`， `more`， `less`
            
            - more命令：可以让屏幕在显示满一屏幕时，此时可按空格健继续显示下一个画面，或按Q键停止显示。 
            
            - less 命令：可以分页显示文件，和more命令的区别就在于它支持上下键卷动屏幕，当结束浏览时，只要在less命令的提示符“ : ”下按Q键即可。
            
            - cat命令：主要有三大功能
                1. 一次显示整个文件：`cat filename`
                2. 从键盘创建一个文件：`cat > filename`
                3. 将几个文件合并为一个文件：`cat file1 file2 > file`
                
        - `file`命令用于辨识文件类型
        
        - `ls`命令查看当前目录下包含的文件
        
        - `find`是根据name, ctime, mtime等信息搜索文件的命令，不会根据文件内容去检索，也就是它只利用了iNode的信息
          `grep`是检索文件内容
         
    - 创建
        
        - `touch filename`新建文件
        
        - `cat > filename`新建文件
        
        - `vi/vim filename`新建文件,如果不存在该文件则新建文件
    
    - 修改
    
        - 输入/输出重定向
            - `command > file`:将输出重定向到 file , command < file:将输入重定向到 file
                
            - `command >> file`:将输出以追加的方式重定向到 file
                
            - `n > file`:将文件描述符为 n 的文件重定向到 file , `n >> file`:将文件描述符为 n 的文件以追加的方式重定向到 file
                
            - `n >& m`:将输出文件 m 和 n 合并 , `n <& m`:将输入文件 m 和 n 合并
                
            - `<< tag`:将开始标记 tag 和结束标记 tag 之间的内容作为输入
            
            - `>` 表示输出重定向，例如：
              `echo "123" > test.txt`
              表示将 123 输入到文件 test.txt 中
              `>>` 输出重定向追加，例如：
              `echo "123" >> test.txt`
              表示将 123 追加到文件 test.txt 中
              
            - bash中0，1，2三个数字分别代表`STDIN_FILENO、STDOUT_FILENO、STDERR_FILENO`，即标准输入（一般是键盘），标准输出
            （一般是显示屏，准确的说是用户终端控制台），标准错误（出错信息输出）。
              输入输出可以重定向，所谓重定向输入就是在命令中指定具体的输入来源，譬如 `cat < test.c`将test.c重定向为cat命令的输入源。
              输出重定向是指定具体的输出目标以替换默认的标准输出，譬如`ls > 1.txt`将ls的结果从标准输出重定向为1.txt文本。
              有时候会看到如 `ls >> 1.txt`这类的写法，> 和 >> 的区别在于：> 用于新建而>>用于追加。即`ls > 1.txt`会新建一个1.txt文件
              并且将ls的内容输出到新建的1.txt中，而`ls >> 1.txt`则用在1.txt已经存在，而我们只是想将ls的内容追加到1.txt文本中的时候。
              &就是为了让bash将2解释成标准错误而不是文件2。
              
        - 修改文件内容
            
            - 当用`vi/vim`编写文件内容时，`:wq`强制性写入文件并退出。即使文件没有被修改也强制写入，并更新文件的修改时间;
                `:q!`直接强制退出，不写入修改的数据;`:x!`强制写入文件并退出。仅当文件被修改时才写入，并更新文件修改时间，
                否则不会更新文件修改时间;在编辑模式下，键入`ESC`键不退出vi直接进入命令模式。
              
        - 修改文件权限
        
            - Linux文件权限内容有 `*** *** ***`  共三大部分，第一部分代表文件所有者权限，第二部分代表同组用户权限，第三部分代表
            其他用户的权限，每部分由`r w x`表示对应的`读 写 执行`权限，文件权限可以用字母表示也可以用数字表示，如果可读，权限二进
            制为100，十进制是4;如果可写，权限二进制为010，十进制是2;如果可执行，权限二进制为001，十进制是1，
            例如：`rwxrwxrwx : 777` , `r-xr-xr-x : 555` , `--------- : 000`
            
            - `chmod：修改文件属性` , `chown：更改文件的拥有者` , `chgrp：更改改变所属组` ， 例如：赋予文件全部权限`chmod 777 filepath `

    - 删除
    
        - 批量删除当前目录下后缀名为.c的文件的命令
        
            - `rm *.c`
            
            - `find . -name “*.c” maxdepth 1 | xargs rm`
            
                - `find . -name "*.c" -maxdepth 1`表示找到`.`(当前目录下)名字为以“.c”为后缀的文件，`-maxdepth 1`表示目录深度为1，
                也就是寻找当前目录。
                
                - `|` 是匿名管道，用于将前一个命令的输出传递给后一个命令作为参数输入
                
                - `xargs`是给命令传递参数的一个过滤器，也是组合多个命令的一个工具。它能够捕获一个命令的输出，然后传递给另外一个命令。
    
    - 压缩和解压
    
        - `tar`是操作.tar的命令，`gzip`是压缩.gz压缩包的命令，`compress`：压缩.Z文件，`uncompress`：解压缩.Z文件
         
- 进程

    - 停止
    
        - `ctrl+c` 中断前台进程，`ctrl+z` 暂停前台进程，`kill %进程号` 杀死进程，`halt` 关闭系统
    
    - 查看
    
        - `jobs` 查看进程
        
- 系统

    - Linux下的7个运行级别：<br>  
       0:系统停机状态，系统默认运行级别不能设置为0，否则不能正常启动，机器关闭。<br>
       1:单用户工作状态，root权限，用于系统维护，禁止远程登陆，就像Windows下的安全模式登录。<br>
       2:多用户状态，没有NFS（网络文件系统）支持。<br>
       3:完整的多用户模式，有NFS，登陆后进入控制台命令行模式。<br>
       4:系统未使用，保留一般不用，在一些特殊情况下可以用它来做一些事情。例如在笔记本电脑的电池用尽时，可以切换到这个模式来做一些设置。<br>
       5:X11控制台，登陆后进入图形GUI模式，XWindow系统。<br>
       6:系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动。运行init6机器就会重启。
        
    - linux操作系统包括三种不同类型的进程：<br>
        交互进程：由shell启动的进程，既可在前台运行，也可在后台运行<br>
        批处理进程：与终端没有联系，是一个进程序列<br>
        守护进程：linux系统启动时启动的进程，并在后台运行<br>
        
    - POSIX互斥锁相关函数有以下：<br>
      `pthread_mutex_init` 初始化一个互斥量<br>
      `pthread_mutex_lock` 给一个互斥量加锁<br>
      `pthread_mutex_trylock` 加锁，如果失败不阻塞<br>
      `pthread_mutex_unlock` 解锁<br>
      `pthread_mutex_destroy` 销毁互斥锁
    
- 常识
    
    - Linux发行版本： `RedHat,ubuntu,CentOS, Debian,slackware`等